{"version":3,"file":"_server.ts-pEz9EmzU.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/recipes/_server.ts.js"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\nconst prisma = new PrismaClient();\nasync function GET() {\n  try {\n    const recipes = await prisma.recipe.findMany({\n      include: { user: true }\n    });\n    return new Response(JSON.stringify(recipes), {\n      headers: { \"Content-Type\": \"application/json\" }\n    });\n  } catch (err) {\n    console.error(\"Error fetching recipes:\", err);\n    return new Response(\"Internal Server Error\", { status: 500 });\n  } finally {\n    await prisma.$disconnect();\n  }\n}\nasync function POST({ request }) {\n  try {\n    const data = await request.json();\n    const newRecipe = await prisma.recipe.create({\n      data: {\n        title: data.title,\n        description: data.description,\n        ingredients: data.ingredients || [],\n        instructions: data.instructions || []\n      }\n    });\n    return new Response(JSON.stringify(newRecipe), {\n      status: 201,\n      headers: { \"Content-Type\": \"application/json\" }\n    });\n  } catch (err) {\n    console.error(\"Error creating recipe:\", err);\n    return new Response(\"Internal Server Error\", { status: 500 });\n  } finally {\n    await prisma.$disconnect();\n  }\n}\nexport {\n  GET,\n  POST\n};\n"],"names":[],"mappings":";;AACA,MAAM,MAAM,GAAG,IAAI,YAAY,EAAE;AACjC,eAAe,GAAG,GAAG;AACrB,EAAE,IAAI;AACN,IAAI,MAAM,OAAO,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC;AACjD,MAAM,OAAO,EAAE,EAAE,IAAI,EAAE,IAAI;AAC3B,KAAK,CAAC;AACN,IAAI,OAAO,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE;AACjD,MAAM,OAAO,EAAE,EAAE,cAAc,EAAE,kBAAkB;AACnD,KAAK,CAAC;AACN,EAAE,CAAC,CAAC,OAAO,GAAG,EAAE;AAChB,IAAI,OAAO,CAAC,KAAK,CAAC,yBAAyB,EAAE,GAAG,CAAC;AACjD,IAAI,OAAO,IAAI,QAAQ,CAAC,uBAAuB,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AACjE,EAAE,CAAC,SAAS;AACZ,IAAI,MAAM,MAAM,CAAC,WAAW,EAAE;AAC9B,EAAE;AACF;AACA,eAAe,IAAI,CAAC,EAAE,OAAO,EAAE,EAAE;AACjC,EAAE,IAAI;AACN,IAAI,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE;AACrC,IAAI,MAAM,SAAS,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC;AACjD,MAAM,IAAI,EAAE;AACZ,QAAQ,KAAK,EAAE,IAAI,CAAC,KAAK;AACzB,QAAQ,WAAW,EAAE,IAAI,CAAC,WAAW;AACrC,QAAQ,WAAW,EAAE,IAAI,CAAC,WAAW,IAAI,EAAE;AAC3C,QAAQ,YAAY,EAAE,IAAI,CAAC,YAAY,IAAI;AAC3C;AACA,KAAK,CAAC;AACN,IAAI,OAAO,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE;AACnD,MAAM,MAAM,EAAE,GAAG;AACjB,MAAM,OAAO,EAAE,EAAE,cAAc,EAAE,kBAAkB;AACnD,KAAK,CAAC;AACN,EAAE,CAAC,CAAC,OAAO,GAAG,EAAE;AAChB,IAAI,OAAO,CAAC,KAAK,CAAC,wBAAwB,EAAE,GAAG,CAAC;AAChD,IAAI,OAAO,IAAI,QAAQ,CAAC,uBAAuB,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AACjE,EAAE,CAAC,SAAS;AACZ,IAAI,MAAM,MAAM,CAAC,WAAW,EAAE;AAC9B,EAAE;AACF;;;;"}